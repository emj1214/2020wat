<head>
    <link rel="stylesheet", type="text/css", href="index.css"/>
    <script type="text/javascript" src="numbers.js"></script>
</head>

    
<html>

<body>
    
<div class="topnav" id="NavBar">
    <a href="index.html" class="notActive">Home</a>
    <a href="indiv.html" class="notActive">Individuals</a>
    <a href="hrs.html" class="active">Homerooms</a>
    <a href="class.html" class="notActive">Class</a>
    <a href="helpus.html" class="notActive">Fundraise</a>
    <a href="about.html" class="notActive">About</a>
</div>

<div class="title">
    Homeroom Stats
</div>

<ul class="none">

    <li>
        <span id="ranks"></span>
    </li>

</ul>

</body>

</html>

<script type="module">

import * as teachers from '/numbers.js';

const teacherArray = [];
for (let teacher in teachers) {
    teacherArray.push({
        name: teacher,
        weeks: teachers[teacher]
    });
}

const sortedWeeks = teacherArray.sort((a, b) => b.weeks[0] - a.weeks[0]);

function teachersToString(teacher) {
    return teacher.name[0].toUpperCase() + teacher.name.substring(1) + ': $' + teacher.weeks.reduce((sum, current) => sum + current, 0);
}

function capitalize(name) {
    return name[0].toUpperCase() + name.substring(1);
}

const ranking = document.querySelector('#ranks');
ranks.innerText = sortedWeeks.map(week => (sortedWeeks.indexOf(week) +1) + '. ' + teachersToString(week)).join('\n');

</script>
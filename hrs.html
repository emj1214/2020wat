<head>
    <link rel="stylesheet", type="text/css", href="index.css"/>
    <script type="text/javascript" src="numbers.js"></script>
    <title>WAT Homerooms</title>
</head>

    
<html>

<body class="topback">
    
<div class="topnav" id="NavBar">
    <a href="index.html" class="notActive">Home</a>
    <a href="indiv.html" class="notActive">Individuals</a>
    <a href="hrs.html" class="active">Homerooms</a>
    <a href="class.html" class="notActive">Class</a>
    <a href="helpus.html" class="notActive">Help Us</a>
    <a href="about.html" class="notActive">About</a>
</div>

<div class="title">
    Homeroom Stats
</div>

<ul class="none">

    <li>Last updated on September 6, 2019, at 2:15pm. If your homeroom does not appear to be up to date, please email <a href="mailto:20.johnson.emma@omahamarian.org">Emma Johnson</a> with the correct amount. Thanks!</li>
    <br>
    <li><b>Homeroom Totals Leaderboard</b></li>
    <li id="ranks"></li>

</ul>

<div class="title">
    Homeroom Breakdowns
</div>

<br>

<div class="topnav" id="HRBreakdown">
    <a href="bauman.html" class="notActive">Bauman</a>
    <a href="cotton.html" class="notActive">Cotton</a>
    <a href="delks.html" class="notActive">Delkamiller</a>
    <a href="golka.html" class="notActive">Golka</a>
    <a href="greisch.html" class="notActive">Greisch</a>
    <a href="mcgill.html" class="notActive">McGill</a>
    <a href="piernicky.html" class="notActive">Piernicky</a>
    <a href="sisson.html" class="notActive">Sisson</a>
    <a href="spanny.html" class="notActive">Spanny</a>
    <a href="hrs.html" class="notActive">All</a>
</div>

</body>

</html>

<script type="module">

import * as teachers from '/numbers.js';

const teacherArray = [];
for (let teacher in teachers) {
    teacherArray.push({
        name: teacher,
        weeks: teachers[teacher]
    });
}

const sortedWeeks = teacherArray.sort((a, b) => b.weeks.reduce((sum, current) => sum + current, 0) - a.weeks.reduce((sum, current) => sum + current, 0));

function teachersToString(teacher) {
    return teacher.name[0].toUpperCase() + teacher.name.substring(1) + ': $' + teacher.weeks.reduce((sum, current) => sum + current, 0).toFixed(2);
} 

const ranking = document.querySelector('#ranks');
ranks.innerText = sortedWeeks.map(week => (sortedWeeks.indexOf(week) +1) + '. ' + teachersToString(week)).join('\n \n');

</script>